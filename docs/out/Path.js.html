<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: Path.js</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{"outputSourceFiles":true}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="BaseGradient">
            <span class="title">
                <a href="BaseGradient.html">BaseGradient</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="BaseGradient#addStop"><a href="BaseGradient.html#addStop">addStop</a></li>
            
                <li data-name="BaseGradient#getAttr"><a href="BaseGradient.html#getAttr">getAttr</a></li>
            
                <li data-name="BaseGradient#sca"><a href="BaseGradient.html#sca">sca</a></li>
            
                <li data-name="BaseGradient#setAttr"><a href="BaseGradient.html#setAttr">setAttr</a></li>
            
                <li data-name="BaseGradient#setInnerAttr"><a href="BaseGradient.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="BaseGradient#ske"><a href="BaseGradient.html#ske">ske</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Circle">
            <span class="title">
                <a href="Circle.html">Circle</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Circle#getAttr"><a href="Circle.html#getAttr">getAttr</a></li>
            
                <li data-name="Circle#moveTo"><a href="Circle.html#moveTo">moveTo</a></li>
            
                <li data-name="Circle#noise"><a href="Circle.html#noise">noise</a></li>
            
                <li data-name="Circle#rot"><a href="Circle.html#rot">rot</a></li>
            
                <li data-name="Circle#sca"><a href="Circle.html#sca">sca</a></li>
            
                <li data-name="Circle#setAttr"><a href="Circle.html#setAttr">setAttr</a></li>
            
                <li data-name="Circle#setInnerAttr"><a href="Circle.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Circle#ske"><a href="Circle.html#ske">ske</a></li>
            
                <li data-name="Circle#subdivide"><a href="Circle.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Colors">
            <span class="title">
                <a href="Colors.html">Colors</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Colors.getLatestPalettes"><a href="Colors.html#.getLatestPalettes">getLatestPalettes</a></li>
            
                <li data-name="Colors.getPalette"><a href="Colors.html#.getPalette">getPalette</a></li>
            
                <li data-name="Colors.getRndPalette"><a href="Colors.html#.getRndPalette">getRndPalette</a></li>
            
                <li data-name="Colors.getTopPalettes"><a href="Colors.html#.getTopPalettes">getTopPalettes</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ellipse">
            <span class="title">
                <a href="Ellipse.html">Ellipse</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ellipse#getAttr"><a href="Ellipse.html#getAttr">getAttr</a></li>
            
                <li data-name="Ellipse#getCenter"><a href="Ellipse.html#getCenter">getCenter</a></li>
            
                <li data-name="Ellipse#moveTo"><a href="Ellipse.html#moveTo">moveTo</a></li>
            
                <li data-name="Ellipse#noise"><a href="Ellipse.html#noise">noise</a></li>
            
                <li data-name="Ellipse#rot"><a href="Ellipse.html#rot">rot</a></li>
            
                <li data-name="Ellipse#sca"><a href="Ellipse.html#sca">sca</a></li>
            
                <li data-name="Ellipse#setAttr"><a href="Ellipse.html#setAttr">setAttr</a></li>
            
                <li data-name="Ellipse#setInnerAttr"><a href="Ellipse.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Ellipse#ske"><a href="Ellipse.html#ske">ske</a></li>
            
                <li data-name="Ellipse#subdivide"><a href="Ellipse.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="FePointLight">
            <span class="title">
                <a href="FePointLight.html">FePointLight</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Layout">
            <span class="title">
                <a href="Layout.html">Layout</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Layout.Cols"><a href="Layout.html#.Cols">Cols</a></li>
            
                <li data-name="Layout.Grid"><a href="Layout.html#.Grid">Grid</a></li>
            
                <li data-name="Layout.Masonry"><a href="Layout.html#.Masonry">Masonry</a></li>
            
                <li data-name="Layout.Rows"><a href="Layout.html#.Rows">Rows</a></li>
            
                <li data-name="Layout.RuleOfThirds"><a href="Layout.html#.RuleOfThirds">RuleOfThirds</a></li>
            
                <li data-name="Layout.Spiral"><a href="Layout.html#.Spiral">Spiral</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Line">
            <span class="title">
                <a href="Line.html">Line</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Line#getAttr"><a href="Line.html#getAttr">getAttr</a></li>
            
                <li data-name="Line#moveTo"><a href="Line.html#moveTo">moveTo</a></li>
            
                <li data-name="Line#noise"><a href="Line.html#noise">noise</a></li>
            
                <li data-name="Line#rot"><a href="Line.html#rot">rot</a></li>
            
                <li data-name="Line#sca"><a href="Line.html#sca">sca</a></li>
            
                <li data-name="Line#setAttr"><a href="Line.html#setAttr">setAttr</a></li>
            
                <li data-name="Line#setInnerAttr"><a href="Line.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Line#ske"><a href="Line.html#ske">ske</a></li>
            
                <li data-name="Line#subdivide"><a href="Line.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="LinearGradient">
            <span class="title">
                <a href="LinearGradient.html">LinearGradient</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="LinearGradient#addStop"><a href="LinearGradient.html#addStop">addStop</a></li>
            
                <li data-name="LinearGradient#getAttr"><a href="LinearGradient.html#getAttr">getAttr</a></li>
            
                <li data-name="LinearGradient#sca"><a href="LinearGradient.html#sca">sca</a></li>
            
                <li data-name="LinearGradient#setAttr"><a href="LinearGradient.html#setAttr">setAttr</a></li>
            
                <li data-name="LinearGradient#setInnerAttr"><a href="LinearGradient.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="LinearGradient#ske"><a href="LinearGradient.html#ske">ske</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Path">
            <span class="title">
                <a href="Path.html">Path</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Path#getAttr"><a href="Path.html#getAttr">getAttr</a></li>
            
                <li data-name="Path#moveTo"><a href="Path.html#moveTo">moveTo</a></li>
            
                <li data-name="Path#noise"><a href="Path.html#noise">noise</a></li>
            
                <li data-name="Path#rot"><a href="Path.html#rot">rot</a></li>
            
                <li data-name="Path#sca"><a href="Path.html#sca">sca</a></li>
            
                <li data-name="Path#setAttr"><a href="Path.html#setAttr">setAttr</a></li>
            
                <li data-name="Path#setInnerAttr"><a href="Path.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Path#ske"><a href="Path.html#ske">ske</a></li>
            
                <li data-name="Path#subdivide"><a href="Path.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Pattern">
            <span class="title">
                <a href="Pattern.html">Pattern</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Pattern#getAttr"><a href="Pattern.html#getAttr">getAttr</a></li>
            
                <li data-name="Pattern#moveTo"><a href="Pattern.html#moveTo">moveTo</a></li>
            
                <li data-name="Pattern#noise"><a href="Pattern.html#noise">noise</a></li>
            
                <li data-name="Pattern#rot"><a href="Pattern.html#rot">rot</a></li>
            
                <li data-name="Pattern#sca"><a href="Pattern.html#sca">sca</a></li>
            
                <li data-name="Pattern#setAttr"><a href="Pattern.html#setAttr">setAttr</a></li>
            
                <li data-name="Pattern#setInnerAttr"><a href="Pattern.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Pattern#ske"><a href="Pattern.html#ske">ske</a></li>
            
                <li data-name="Pattern#subdivide"><a href="Pattern.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Polygon">
            <span class="title">
                <a href="Polygon.html">Polygon</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Polygon#getAttr"><a href="Polygon.html#getAttr">getAttr</a></li>
            
                <li data-name="Polygon#moveTo"><a href="Polygon.html#moveTo">moveTo</a></li>
            
                <li data-name="Polygon#noise"><a href="Polygon.html#noise">noise</a></li>
            
                <li data-name="Polygon#rot"><a href="Polygon.html#rot">rot</a></li>
            
                <li data-name="Polygon#sca"><a href="Polygon.html#sca">sca</a></li>
            
                <li data-name="Polygon#setAttr"><a href="Polygon.html#setAttr">setAttr</a></li>
            
                <li data-name="Polygon#setInnerAttr"><a href="Polygon.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Polygon#ske"><a href="Polygon.html#ske">ske</a></li>
            
                <li data-name="Polygon#subdivide"><a href="Polygon.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Polyline">
            <span class="title">
                <a href="Polyline.html">Polyline</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Polyline#getAttr"><a href="Polyline.html#getAttr">getAttr</a></li>
            
                <li data-name="Polyline#moveTo"><a href="Polyline.html#moveTo">moveTo</a></li>
            
                <li data-name="Polyline#noise"><a href="Polyline.html#noise">noise</a></li>
            
                <li data-name="Polyline#rot"><a href="Polyline.html#rot">rot</a></li>
            
                <li data-name="Polyline#sca"><a href="Polyline.html#sca">sca</a></li>
            
                <li data-name="Polyline#setAttr"><a href="Polyline.html#setAttr">setAttr</a></li>
            
                <li data-name="Polyline#setInnerAttr"><a href="Polyline.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Polyline#ske"><a href="Polyline.html#ske">ske</a></li>
            
                <li data-name="Polyline#subdivide"><a href="Polyline.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="RadialGradient">
            <span class="title">
                <a href="RadialGradient.html">RadialGradient</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="RadialGradient#addStop"><a href="RadialGradient.html#addStop">addStop</a></li>
            
                <li data-name="RadialGradient#getAttr"><a href="RadialGradient.html#getAttr">getAttr</a></li>
            
                <li data-name="RadialGradient#sca"><a href="RadialGradient.html#sca">sca</a></li>
            
                <li data-name="RadialGradient#setAttr"><a href="RadialGradient.html#setAttr">setAttr</a></li>
            
                <li data-name="RadialGradient#setInnerAttr"><a href="RadialGradient.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="RadialGradient#ske"><a href="RadialGradient.html#ske">ske</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Rect">
            <span class="title">
                <a href="Rect.html">Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Rect#getAttr"><a href="Rect.html#getAttr">getAttr</a></li>
            
                <li data-name="Rect#moveTo"><a href="Rect.html#moveTo">moveTo</a></li>
            
                <li data-name="Rect#noise"><a href="Rect.html#noise">noise</a></li>
            
                <li data-name="Rect#rot"><a href="Rect.html#rot">rot</a></li>
            
                <li data-name="Rect#sca"><a href="Rect.html#sca">sca</a></li>
            
                <li data-name="Rect#setAttr"><a href="Rect.html#setAttr">setAttr</a></li>
            
                <li data-name="Rect#setInnerAttr"><a href="Rect.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Rect#ske"><a href="Rect.html#ske">ske</a></li>
            
                <li data-name="Rect#subdivide"><a href="Rect.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Scene">
            <span class="title">
                <a href="Scene.html">Scene</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Scene#add"><a href="Scene.html#add">add</a></li>
            
                <li data-name="Scene#getAttr"><a href="Scene.html#getAttr">getAttr</a></li>
            
                <li data-name="Scene#moveTo"><a href="Scene.html#moveTo">moveTo</a></li>
            
                <li data-name="Scene#noise"><a href="Scene.html#noise">noise</a></li>
            
                <li data-name="Scene#rot"><a href="Scene.html#rot">rot</a></li>
            
                <li data-name="Scene#sca"><a href="Scene.html#sca">sca</a></li>
            
                <li data-name="Scene#setAttr"><a href="Scene.html#setAttr">setAttr</a></li>
            
                <li data-name="Scene#setInnerAttr"><a href="Scene.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="Scene#ske"><a href="Scene.html#ske">ske</a></li>
            
                <li data-name="Scene#subdivide"><a href="Scene.html#subdivide">subdivide</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="SVGBase">
            <span class="title">
                <a href="SVGBase.html">SVGBase</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="SVGBase#getAttr"><a href="SVGBase.html#getAttr">getAttr</a></li>
            
                <li data-name="SVGBase#sca"><a href="SVGBase.html#sca">sca</a></li>
            
                <li data-name="SVGBase#setAttr"><a href="SVGBase.html#setAttr">setAttr</a></li>
            
                <li data-name="SVGBase#setInnerAttr"><a href="SVGBase.html#setInnerAttr">setInnerAttr</a></li>
            
                <li data-name="SVGBase#ske"><a href="SVGBase.html#ske">ske</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="Path.js.html">Source: Path.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>/**
* @license
* Copyright 2017 Ruben Afonso, ruben@figurebelow.com
* This source code is licensed under the Apache license (see LICENSE file)
**/

"use strict";

let SVGBase = require ("./SVGBase.js").SVGBase;
let Functions = require ("./utils/Functions.js").Functions;
let PointsParser = require ("./grammars/PathGrammar.js");
let D3 = require ("./d3/d3.v4.min.js");

/**
 * Class Path
 * @extends SVGBase
 */
class Path extends SVGBase {

  /**
   * Path constructor
   * @override
   */
  constructor (values) {
    super ("path", values);
    if (values &amp;&amp; "d" in values) {
      this.parsePoints (values["d"]);
    }
    else {
      this.setAttr({d:""});
      this.parsedPoints = [];
    }
  }

  parsePoints (dStr) {
    this.parsedPoints = PointsParser.parse (dStr);
    this.updateD();
  }

  /**
   * Clones a Path
   * @override
   * @return the new object
   */
  clone () {
    var newElem = new Path (this.attributes);
    newElem.setInnerAttr (this.innerAttributes)
    return newElem;
  }

  /**
   * Returns the Path's center
   * @return {object} {x:val,y:val} position of the Path's center
   * @override
   */
  getCenter () {
     let center = Functions.getPathCenter(this.parsedPoints);
     return Functions.NonIntersecPolCenter (center);
  }

  /**
   * Moves the object to the given xy point
   * @param {object} {x:val,y:val} position to move the Path's center to.
   * @return the object
   * @example
   * path.moveTo({x:10,y:10});
   */
  moveTo (xyPos, point) {
    var currentCenter = point || this.getCenter();
    var distance = {x: xyPos.x - currentCenter.x, y: xyPos.y - currentCenter.y};
    Functions.moveInsts (this.parsedPoints, distance);
    this.updateD();
    return this;
  }

  /**
   * Rotates the object
   * @param {number} deg degrees to rotate, clockwise
   * @param {object} point (optional) xy point, center of the rotation
   * @override
   * @returns the object
   * @example
   *  rect.rotate(45); // rotates around its center
   * @example
   * rect.rotate(45, new Point(12,14)); // rotates around the given point
   */
   rot (deg, origin) {
     var around = origin || this.getCenter();
     if (around == Path.UP || around == Path.DOWN || around == Path.RIGHT || around == Path.LEFT)
       around = this.pointAt(around);
     this.parsedPoints.forEach (function (inst) {
       Functions.rotateInst(inst, deg, around);
     });
     this.updateD();
     return this;
   }

  pointAt (pos) {
    if (pos == Path.UP) {
      let yVals = this.parsedPoints.filter(p => p != undefined &amp;&amp; p.values != undefined).map(p2 => p2.values[0].y);
      return this.parsedPoints[yVals.indexOf(Math.min.apply(Math,yVals))].values[0];
    }
    else if (pos == Path.RIGHT) {
        let xVals = this.parsedPoints.filter(p => p != undefined &amp;&amp; p.values != undefined).map(p2 => p2.values[0].x);
        return this.parsedPoints[xVals.indexOf(Math.max.apply(Math,xVals))].values[0];
    }
    else if (pos == Path.DOWN) {
        let yVals = this.parsedPoints.filter(p => p != undefined &amp;&amp; p.values != undefined).map(p2 => p2.values[0].y);
        return this.parsedPoints[yVals.indexOf(Math.max.apply(Math,yVals))].values[0];
    }
    else if (pos == Path.LEFT) {
        let xVals = this.parsedPoints.filter(p => p != undefined &amp;&amp; p.values != undefined).map(p2 => p2.values[0].x);
        return this.parsedPoints[xVals.indexOf(Math.min.apply(Math,xVals))].values[0];
    }
    else {
      let point = this.parsedPoints[pos].values[0];
      return {x:point.x, y:point.y};
    }
  }

  getPoints () {
    let xyPoints = this.parsedPoints.map (function (item) {
      if (item.type.toLowerCase() != "z")
        return {x:item.values[0].x, y:item.values[0].y};
    });
    return xyPoints.filter (function (elem) { return elem != undefined });
  }

  /**
   * Updates the 'd' coordinate of the Path.
   * @ignore
   */
  updateD () {
    var newD = "";
    this.parsedPoints.forEach (function (point, i, sourceList) {
      newD += point.type;
      if (point.type.toLowerCase() != 'z') {
        for (let key in point.values[0]) {
          newD += point.values[0][key] + ",";
        }
        newD = newD.slice(0,-1);
        if (i &lt; sourceList.length-1)
          newD += " ";
      }
    });
    this.setAttr ({"d":newD});
  }

  /**
   * Subdivides the Path by adding a new point between each pair of coordinates
   * @param {number} its number of subdivision operations, 1 by default
   * @return the object
   * @example
   * line.subdivide(2); // subdivide twice
   */
  subdivide (its) {
    var iterations = its || 1;
    while (iterations > 0) {
      var clonedPoints = this.parsedPoints.slice(0);
      var interpolated = 0;
      for (var i  = 1; i &lt; clonedPoints.length; i++) {
        if (clonedPoints[i].type == "L") {
          var intermediatePoint = Functions.NonIntersecPolCenter ([clonedPoints[i].values[0], clonedPoints[i-1].values[0]]);
          this.parsedPoints.splice (i + interpolated,0,{type:'L', values:[{x:intermediatePoint.x, y:intermediatePoint.y}]});
          interpolated++;
        }
        if (clonedPoints[i].type == "z") {
          var intermediatePoint = Functions.NonIntersecPolCenter ([clonedPoints[0].values[0], clonedPoints[i-1].values[0]]);
          this.parsedPoints.splice (i + interpolated,0,{type:'L', values:[{x:intermediatePoint.x, y:intermediatePoint.y}]});
        }
      }
      iterations--;
    }
    this.updateD();
    return this;
  }

  /**
   * Apply the given noise function to each point.
   * The noise function must return a pair of {xy} values when invoked.
   * @param {xyFun} xyFun the function to Apply
   * @return the object
   * @example
   * mymultiline.noise(function f () { return x: Math.random(), y:Math.random()});
   */
  noise (xyFun) {
    var that = this;
    for (var i = 0; i &lt; this.parsedPoints.length; i++) {
      var point = this.parsedPoints[i];
      if (point.type != "z") {
        var values = xyFun (point.values[0], i);
        if (!Array.isArray(values)) {
          values = [values];
        }
        var mapped = (values == this.parsedPoints.length) || false;
        if (mapped) {
          point.values[0].x += values[i].x;
          point.values[0].y += values[i].y;
        }
        else {
          point.values[0].x += values[0].x;
          point.values[0].y += values[0].y;
        }
      }
    }
    this.updateD();
    return this;
  }

  static lineFromPoints (points) {
    let input = points;
    if (points.getPoints != undefined)
      input = points.getPoints();
    var gen = D3.line()
      .x (function (d) { return d.x})
      .y (function (d) { return d.y})
      .curve(D3.curveLinearClosed);
    return gen(input);
  }

  static curveBasis (points) {
    let input = points;
    if (points.getPoints != undefined)
      input = points.getPoints();
    var gen = D3.line()
      .x (function (d) { return d.x})
      .y (function (d) { return d.y})
      .curve (D3.curveBasisClosed);
    return gen(input);
  }

  static curveBundle (points) {
    let input = points;
    if (points.getPoints != undefined)
      input = points.getPoints();
    var gen = D3.line()
      .x (function (d) { return d.x})
      .y (function (d) { return d.y})
      .curve (D3.curveNatural);
    return gen(input);
  }

  static fromPoints (points) {
    var path = new Path ({d:Path.lineFromPoints(points)});
    return path;
  }
};

module.exports.Path = Path;
module.exports.Path.UP = -1;
module.exports.Path.RIGHT = -2;
module.exports.Path.DOWN = -3;
module.exports.Path.LEFT = -4;
</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Jan 11 2018 08:22:12 GMT+0000 (GMT)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
